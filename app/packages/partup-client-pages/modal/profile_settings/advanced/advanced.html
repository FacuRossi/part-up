<template name="modal_profile_settings_advanced">
  <div class="pu-composition pu-composition-defaultmodal">
    <h2 class="pu-title pu-title-modal">{{_ 'modal-profilesettings-advanced-title'}}</h2>
    <p>{{_ 'modal-profilesettings-advanced-text-explanation'}}</p>


    {{#if showImpersonationRequest }}
    <section class="pu-section">
      <h4 class="pu-section-title">{{_ 'modal-profilesettings-advanced-impersonation-title'}}</h4>
      <p class="pu-section-description">{{_ 'modal-profilesettings-advanced-impersonation-description' name=requesterName }}</p>
      <p class="pu-impersonation" data-allow-impersonation>
        <input type="checkbox" name="impersonation" class="impersonate-checkbox">
        <label for="impersonation">{{_ 'modal-profilesettings-advanced-impersonation-label'}}</label>
      </p>
    </section>
    {{/if }}

    <section class="pu-section pu-profile-visibility">
        <h4 class="pu-section-title">{{_ 'modal-profilesettings-advanced-profile_visibility-title'}}</h4>
        <p class="pu-section-description">{{_ 'modal-profilesettings-advanced-profile_visibility-description'}}</p>
        <ul class="pu-list">
          {{#each visibilityLevels }}
            <li class="pu-profile-visibility-item" data-level="{{level}}">
              <input
                type="checkbox"
                name="{{level}}"
                checked="{{ isActiveProfileVisibilityLevel level }}">
              <span><b>{{level}}</b>:</span>
              <p>{{_ description }}</p>
            </li>
          {{/each }}
        </ul>
        <button class="pu-button" data-update-level>{{_'modal-profilesettings-advanced-profile_visibility-update-button'}}</button>
    </section>

    <section class="pu-section">
      <h4 class="pu-section-title">{{_ 'modal-profilesettings-advanced-data-export-title'}}</h4>
      <p class="pu-section-description">{{_ 'modal-profilesettings-advanced-data-export-description'}}</p>
      <button class="pu-button" data-intercom-export-data>
        {{_ 'modal-profilesettings-advanced-data-export'}}
      </button>
    </section>

    <section class="pu-section">
      <h4 class="pu-section-title">{{_ 'modal-profilesettings-advanced-delete-account-title'}}</h4>
      <p class="pu-section-description">{{_ 'modal-profilesettings-advanced-delete-account-description' }}</p>
      <button class="pu-button {{# if submitting }}pu-state-loading pu-state-disabled{{/ if }}" data-delete-account>
          {{_ 'modal-profilesettings-advanced-delete-account' }}
          {{> Spinner color='inverted' type='small' }}
      </button>
    </section>
  </div>
</template>